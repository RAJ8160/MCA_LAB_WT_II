<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lab_3_C_5.html</title>
</head>

<body>
    <button onclick="loadData()">Show Pretty JSON</button>

    <pre id="p1" ></pre>
<pre id="p2" ></pre>
<pre id="p3" ></pre>

    <script>
        async function api1() {
            let data = await fetch('https://jsonplaceholder.typicode.com/posts').then((res) => res.json()).then(json => { console.log(json); return json; })
            return data;
        }
        async function api2() {
            let data = await fetch('https://jsonplaceholder.typicode.com/users').then((res) => res.json()).then(json => { console.log(json); return json; })
            return data;
        }
        async function api3() {
            let data = await fetch('https://jsonplaceholder.typicode.com/albums').then((res) => res.json()).then(json => { console.log(json); return json; })
            return data;
        }

        async function loadData() {
            const [data1, data2, data3] = await Promise.all([
            api1(),
            api2(),
            api3()
        ]); 
            // let api1Data = await api1();
            // let api2Data = await api2();
            // let api3Data = await api3();
            
            document.getElementById('p1').textContent  = JSON.stringify(data1,null,2)
            document.getElementById('p2').textContent  = JSON.stringify(data2,null,2)
            document.getElementById('p3').textContent  = JSON.stringify(data3,null,2)
        }
        // loadData();
    </script>
</body>

</html>

<!-- Why we use <Pre></Pre> in place of <p></p> -->
<!-- <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <p>
{
  "id": 1,
  "title": "hello"
}
</p>
<pre>
{
  "id": 1,
  "title": "hello"
}
</pre>

</body>
</html> -->

